{
  "info": {
    "url": "https://github.com/mity/md4c.git",
    "short-desc": "MD4C stands for \"Markdown for C\", markdown parser implementation in C",
    "vcs": "git"
  },
  "common": {
    "build": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "bash -c 'rm -rf build'",
            "bash -c 'cmake -B build . -DBUILD_SHARED_LIBS=OFF -DCMAKE_C_FLAGS=\"-fsanitize=address\"'",
            "bash -c 'cd build; make -j @DPP_PARALLEL_BUILD@'"
          ]
        }
      ]
    },
    "build-coverage": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "bash -c 'rm -rf build'",
            "bash -c 'cmake -B build . -DBUILD_SHARED_LIBS=OFF -DCMAKE_C_FLAGS=\"--coverage -g -O0 -DDPP_ENABLE_GCOV -fsanitize=address\"'",
            "bash -c 'cd build; make -j @DPP_PARALLEL_BUILD@'"
          ]
        }
      ]
    },
    "test-type": "ctest",
    "test": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "bash -c 'index=$(cat DPP_TEST_INDEX); eval $(sed -n ${index}p .dpp/test_list)'"
          ]
        }
      ]
    },
    "test-coverage": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "bash -c 'index=$(cat DPP_TEST_INDEX); eval $(sed -n ${index}p .dpp/test_list)'"
          ]
        }
      ]
    },
    "gcov": {
      "exclude": [],
      "commands": [
        {
          "type": "docker",
          "lines": [
            "mkdir gcov",
            "bash -c 'gcov @DPP_ADDITIONAL_GCOV_OPTIONS@ --preserve-paths $(find . -name *.gcno -exec dirname {} \\; | uniq | xargs printf -- \"%s/*.o \")'",
            "bash -c 'find . -type f -name \"*.gcov\" -execdir mv {} /home/workspace/gcov \\;'",
            "bash -c 'find . -type f -name \"*.gcda\" -delete'"
          ]
        }
      ]
    }
  },
  "defects": [
    {
      "hash": "e6e2ea4c5a5b972779d9222c4f66b5a693444ce2",
      "num_cases": 9,
      "case": [9],
      "description": "CVE-2018-12102 NULL Pointer Dereference"
    },
    {
      "hash": "4ef024fbb7e739a5861619726b45c7f6d157b25e",
      "num_cases": 9,
      "case": [9],
      "description": "CVE-2018-11546 Out-of-bounds Read"
    },
    {
      "hash": "bf022cb6569457598fb37b266a4129d1aa01211b",
      "num_cases": 9,
      "case": [9],
      "description": "CVE-2018-11536 Out-of-bounds Write"
    },
    {
      "hash": "da5821ae0ddb0e0cb853455dd018a7592a35151b",
      "num_cases": 13,
      "case": [13],
      "description": "Fix the loop end condition (md_link_label_cmp)"
    },
    {
      "hash": "002f76c9750cc13315d4b23e3228cb09e548320a",
      "num_cases": 13,
      "case": [13],
      "description": "Skip [...] used as a reference link/image label (md_resolve_links)"
    }
  ]
}
