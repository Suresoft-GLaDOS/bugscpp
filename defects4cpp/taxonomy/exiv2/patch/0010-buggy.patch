From 8a320d32381889d690f28d9403a5f71e3062c3c6 Mon Sep 17 00:00:00 2001
From: kseo <kseo@suresofttech.com>
Date: Fri, 29 Jul 2022 09:59:44 +0900
Subject: [PATCH] buggy

---
 src/crwimage_int.cpp | 3 ---
 tests/suite.conf     | 1 -
 2 files changed, 4 deletions(-)

diff --git a/src/crwimage_int.cpp b/src/crwimage_int.cpp
index c0d95535..29311fdb 100644
--- a/src/crwimage_int.cpp
+++ b/src/crwimage_int.cpp
@@ -268,9 +268,6 @@ namespace Exiv2 {
 #ifdef EXIV2_DEBUG_MESSAGES
         std::cout << "Reading directory 0x" << std::hex << tag() << "\n";
 #endif
-        if (this->offset() + this->size() > size)
-            throw Error(kerOffsetOutOfRange);
-
         readDirectory(pData + offset(), this->size(), byteOrder);
 #ifdef EXIV2_DEBUG_MESSAGES
         std::cout << "<---- 0x" << std::hex << tag() << "\n";
diff --git a/tests/suite.conf b/tests/suite.conf
index f829b4cc..7aa1b515 100644
--- a/tests/suite.conf
+++ b/tests/suite.conf
@@ -20,7 +20,6 @@ easyaccess_test: ${ENV:exiv2_path}/easyaccess-test${ENV:binary_extension}
 taglist: ${ENV:exiv2_path}/taglist${ENV:binary_extension}
 
 [variables]
-kerOffsetOutOfRange: Offset out of range
 kerFailedToReadImageData: Failed to read image data
 kerCorruptedMetadata: corrupted image metadata
 kerInvalidMalloc: invalid memory allocation request
-- 
2.25.1

