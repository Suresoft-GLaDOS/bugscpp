{
  "info": {
    "url": "https://github.com/marcobambini/gravity",
    "short-desc": "Gravity is a powerful, dynamically typed, lightweight, embeddable programming language written in C without any external dependencies (except for stdlib).",
    "vcs": "git"
  },
  "common": {
    "build": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "make clean",
            "make -j @DPP_PARALLEL_BUILD@"
          ]
        }
      ]
    },
    "build-coverage": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "make clean",
            "make CFLAGS=\"-Isrc/compiler/ -Isrc/runtime/ -Isrc/shared/ -Isrc/utils/ -Isrc/optionals/ -std=gnu99 -fgnu89-inline -fPIC -DBUILD_GRAVITY_API -g -O0 --coverage\" -j @DPP_PARALLEL_BUILD@"
          ]
        }
      ]
    },
    "test-type": "ctest",
    "test": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "bash -c \"python .dpp/run_test.py $(cat DPP_TEST_INDEX)\""
          ]
        }
      ]
    },
    "test-coverage": {
      "commands": [
        {
          "type": "docker",
          "lines": [
            "bash -c \"python .dpp/run_test.py $(cat DPP_TEST_INDEX)\""
          ]
        }
      ]
    },
    "gcov": {
      "exclude": [],
      "commands": [
        {
          "type": "docker",
          "lines": [
            "mkdir gcov",
            "bash -c 'find ./src -type f -name \"*.o\" -exec gcov @DPP_ADDITIONAL_GCOV_OPTIONS@ --preserve-paths {} \\;'",
            "bash -c 'mv *.gcov ./gcov'",
            "bash -c 'find ./gcov -type f -name \"*.gcda\" -delete'"
          ]
        }
      ]
    }
  },
  "defects": [
    {
      "id": 1,
      "hash": "63fa9bf0393dbbdfa1d4cb1f532df6e099f7c0b7",
      "num_cases": 290,
      "case": [93],
      "tags": [
        "single-line",
        "modified"
      ],
      "description": "Fixed a possible GC issue (unit test added)"
    },
    {
      "id": 2,
      "hash": "8cf6379645f458384fc44b627662de5345696072",
      "num_cases": 229,
      "case": [158],
      "tags": [
        "multi-lines",
        "memory-error"
      ],
      "description": "Fixed a crash that can occurs when an insane amount of memory is requested. Introduced a new MAX_MEMORY_BLOCK define."
    },
    {
      "id": 3,
      "hash": "9231f9e1a7d52712a06390ece55a30fe0d60677a",
      "num_cases": 241,
      "case": [184],
      "tags": [
        "multi-line",
        "modified",
        "added"
      ],
      "description": "Fixed a rare issue that can occurs in register allocation."
    }
  ]
}
